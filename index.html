<html>
<head>
<link rel="stylesheet" href="css/index.css?1"   media="all" id="ScreenStyleId"/>
<link rel="stylesheet" href="css/carousel.css?1" media="all"/>

<script src="./js/jquery-3.6.1.min.js"></script>
<script type="module" src="./js/notes.js?1"></script>
<script type="module" src="./js/carousel.js?1"></script>
<script type="module">
import * as Notes from "./js/notes.js?1";

window.addEventListener('DOMContentLoaded', (evt) => {
    Notes.Options.load();

    let table = document.getElementById('NotesTableContainer');
    let nTab = new Notes.NotesTable(table);
    nTab.render();

    document.getElementById('A4FreqId').focus();
});
</script>

</head>

<body>

<div id="NotesTableContainer"></div>

<table class="tone-list">
<tbody id="tone-data"></tbody>
</table>

<canvas id="GeometryId" width="400" height="400"></canvas>

<div id="OptionsId" class="form">
    <fieldset><legend>Options</legend>
        <input type="number" id="A4FreqId" name="A4Freq" value="440.0" size="8" min="1.0" class="frm">
        <label for="A4Freq">A4 frequency (Hz)</label>
        <input type="range" id="A4FreqRangeId" name="A4FreqRange" value="440" min="100" max="1000" class="frm">
        <input type="number" id="TuningSensitivityId" name="TuningSensitivity" value="50" size="8" min="0" max="50" class="frm">
        <label for="TuningSensitivityId">Tuning sensitivity (cents)</label>
        <input type="range" id="TuningSensitivityRangeId" name="TuningSensitivityRange" value="50" min="0" max="50" class="frm">
        <br>

        <select id="TuningId" name="Tuning" class="frm">
        <option value="equal">Equal Temperment (ET)</option>
        <!-- option value="just">Just</option>
        <option value="pyth">Pythagorean</option>
        <option value="mean">Meantone</option -->
        </select>
        <label for="TuningMethodId">Tuning method</label>
        <br>

        <input type="number" id="TransposeId" name="Transpose" value="0" size="5" class="frm">
        <label for="TransposeId">Transpose (cents)</label>
        <input type="range" id="TransposeRangeId" name="TransposeRange" value="0" min="0" max="50" class="frm">
        <br>

        <input type="number" id="NumMicroTonesId" name="NumMicroTones" value="1" size="5" min="1" class="frm">
        <label for="NumMicroTonesId">Microtones per key</label>
        <input type="range" id="NumMicroTonesRangeId" name="NumMicroTonesRange" value="1" min="1" max="11" class="frm">
        <br>

        <select id="AtariPitchId" name="AtariPitch" class="frm">
        <option value="0">0 or 11 (silence)</option>
        <option value="1">1 (buzzy high pitch)</option>
        <option value="2">2 (noisy engine)</option>
        <option value="3">3 (buzzy engine)</option>
        <option value="4" selected>4 or 5 (pure high tone)</option>
        <option value="6">6 or 10 (buzzy pure)</option>
        <option value="7">7 or 9 (buzzy medium pitch)</option>
        <option value="8">8 (noise)</option>
        <option value="12">12 or 13 (pure medium tone)</option>
        <option value="14">14 (low rumble)</option>
        <option value="15">15 (loud rumble)</option>
        </select>
        <label for="AtariPitchId">Atari tone (AUDC)</label>
        <br>

        <select id="VideoFormatId" name="VideoFormat" class="frm">
        <option value="ntsc">NTSC (60 Hz)</option>
        <option value="pal">PAL (50 Hz)</option>
        </select>
        <label for="VideoFormatId" title="Select the television format: NTSC 60 Hz or PAL 50 Hz">Video/Audio format</label>
    </fieldset>

    <fieldset><legend>Show</legend>
        <input type="checkbox" id="PrintBlackKeysId" name="PrintBlackKeys" value="Yes" class="frm">
        <label for="PrintBlackKeysId" title="Print black keys as table rows">Accidental rows</label>
        <input type="checkbox" id="PrintGeometryId" name="PrintGeometry" value="Yes" class="frm" checked>
        <label for="PrintGeometryId">Geometry</label>
        <input type="checkbox" id="PrintFrequencyId" name="PrintFrequency" value="Yes" class="frm" checked>
        <label for="PrintFrequencyId">Frequency</label>
    </fieldset>

    <fieldset><legend>Operations</legend>
        <div>
            <!--
            <input type="checkbox" id="InnerJoinId" name="InnerJoinId" value="Yes" checked>
            <label for="InnerJoinId">Inner join</label>
            <input type="checkbox" id="ExpandPianoId" name="ExpandPiano" value="Yes" class="frm">
            <label for="ExpandPianoId" title="Expand piano to include out of range Atari notes">Expand</label>
            -->
            <input type="checkbox" id="ShrinkPianoId" name="ShrinkPiano" value="Yes" class="frm">
            <label for="ShrinkPianoId" title="Shrink piano to fit to Atari note range">Shrink</label>
            <input type="checkbox" id="JumpToFirstId" name="JumpToFirst" value="Yes" class="frm">
            <label for="JumpToFirstId" title="Jump to the first Atari note">Jump to Atari</label>
        </div>
        <div>
            <button id="ResetId" name="Reset">Reload Defaults</button>
        </div>
    </fieldset>

    <fieldset><legend>Output</legend>
        <div>
            <!-- button id="PrintPianoId" name="Print" onclick="$('#OptionsId').hide(); window.print()">Print Piano</button -->
            <button id="PrintPageId" name="Print" onclick="window.print()">Print Page</button>
            <input type="checkbox" id="SoundOnId" name="SoundOnId" class="frm">
            <label for="SoundOnId">Sound Enabled</label>
        </div>
    </fieldset>

    <fieldset class="info"><legend>Info</legend>
        <div>Video Freq/Frame rate: <span id="VidFreqId"></span></div>
        <div>Total in "tune": <span id="TotalTunedId">0</span></div>
        <div>Avg cents: <span id="QualityId">0</span></div>
        <div>Cent range: <span id="MaxRangeId">0</span></div>
    </fieldset>

    <fieldset><legend>"Tuned" Notes</legend>
        <div id="NotesListId"></div>
    </fieldset>

    <fieldset><legend>Major Chords</legend>
        <div id="ChordsListId">
            <p>blah blah blah</p>
            <p>blah blah blah</p>
            <p>blah blah blah</p>
            <p>blah blah blah</p>
            <p>blah blah blah</p>
        </div>
    </fieldset>
</div>

</body>
</html>
